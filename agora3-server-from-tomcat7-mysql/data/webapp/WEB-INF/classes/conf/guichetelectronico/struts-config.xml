<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
    "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>

	<!-- ========== Data Source Configuration ===============================-->
	<data-sources />

	<!-- ========== Form Bean Definitions ==================================-->
	<form-beans>
		<form-bean 	name="voidForm" 
				   	type="org.apache.struts.validator.DynaValidatorForm" 
				   	dynamic="true" />

		<form-bean name="registoFormBean"
			type="com.sinfic.guichetelectronico.publico.formbean.RegistoForm" />
		
		<form-bean name="dadosPessoaisGuichetFormBean"
			type="com.sinfic.guichetelectronico.publico.formbean.RegistoForm" />
			
		<form-bean name="loginForm" type="org.apache.struts.validator.DynaValidatorActionForm"
			dynamic="true">
			<description>Bean respeitante ao Login.</description>
			<form-property name="params" type="java.util.HashMap" />
		</form-bean>
		
		<form-bean 	name="webflowActionForm" 
					type="org.springframework.web.struts.SpringBindingActionForm" /> 
					
		<form-bean 	name="documentosGenericosGuichetForm" 
					type="com.sinfic.guichetelectronico.secure.formbean.DocumentosGenericosGuichetForm">
			<description>Bean respeitante ao documentos anexados a processos pendentes.</description>
		</form-bean>
		
		<form-bean 	name="notificationGuichetForm" 
					type="com.sinfic.guichetelectronico.secure.formbean.NotificationGuichetForm">
			<description>Bean respeitante ao detalhe de processo.</description>
		</form-bean>

		<form-bean name="moradaAOFormBean" type="com.sinfic.ipdms.comum.formbean.MoradaAOFormBean" />
		<form-bean name="moradaPTFormBean" type="com.sinfic.ipdms.comum.formbean.MoradaPTFormBean" />
		<form-bean name="moradaBRFormBean" type="com.sinfic.ipdms.comum.formbean.MoradaBRFormBean" />
			
	</form-beans>


	<!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
		<!--exception type="java.lang.RuntimeException"
					key="guichetelectronico.error.runtime"
					handler="com.sinfic.ipdms.comum.exception.handler.DefaultExceptionHandler"
					path="guichetelectronico.error.runtime" /-->
	</global-exceptions>


	<!-- ========== Global Forward Definitions =============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
		<forward name="index" path="index.do" redirect="true" />
		<forward name="homepage" path="/publico/homepage.do2" redirect="true" />

		<forward name="ipdms-acessonegado" path="guichetelectronico.acessonegado" />
		<forward name="ipdms-erro" path="guichetelectronico.error.runtime" />
	</global-forwards>

	<!-- ========== Action Mapping Definitions =============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">

		<!-- Guichet Base Actions -->
		
		<action path="/secure/logout" type="screen.suportdata.actions.LogoutAction">
			<forward name="sucesso" path="/publico/homepage.do2" redirect="true"/>
		</action>

		<action path="/publico/homepage" 
				type="com.sinfic.ipdms.comum.action.HomepageAction">
			<forward name="sucesso" path="guichetelectronico.homepage"/>
		</action>

		<action path="/publico/listarvariantes" 
				type="com.sinfic.ipdms.instrucao.action.ListarVariantesExternasProcessoAction">
			<forward name="sucesso" path="guichetelectronico.listarVariantes" />
		</action>
				
		<action path="/secure/listarvariantes" 
				type="com.sinfic.ipdms.instrucao.action.ListarVariantesExternasProcessoAction">
			<forward name="sucesso" path="guichetelectronico.listarVariantes" />
		</action>		
				
		<action path="/publico/listnoticiasvalidas" scope="request" 
			type="com.sinfic.guichetelectronico.publico.action.ListNoticiasValidasAction">
			<forward name="sucesso" path="guichetelectronico.ajax.noticias" />
		</action>
		
		<action path="/publico/pesquisar" scope="request" 
			type="com.sinfic.guichetelectronico.publico.action.PesquisarGuichetAction">
			<forward name="sucesso" path="guichetelectronico.pesquisar.list" />
		</action>
		<action path="/secure/file/getDocumentoInstrucao" type="com.sinfic.ipdms.io.action.GetDocumentoInstrucaoFileAction" />
		<action path="/secure/file/getPdfInstrucaoGuichet" type="com.sinfic.ipdms.io.action.GetServicoOnlineFileAction" />
		<action path="/secure/file/getDocumentoAssociacao" type="com.sinfic.ipdms.io.action.GetDocumentoAssociacaoFileAction" />		
	<!-- Login -->

		<action path="/publico/login"
				name="loginForm"
				type="com.sinfic.guichetelectronico.publico.action.LoginAction" 
				parameter="method"
				validate="false"
				scope="request">	
			<forward name="login" path="guichetelectronico.login.inicio" />
			<forward name="esqueceu" path="guichetelectronico.login.verificacao" />
			<forward name="sucessopassword" path="guichetelectronico.login.sucessopassword" />
			<forward name="erro" path="guichetelectronico.login.erro" />
		</action>

		<action path="/publico/resetPasswordConfirmation"
				type="com.sinfic.guichetelectronico.publico.action.ResetPasswordConfirmationAction" 
				validate="false"
				scope="request">	
			<forward name="sucesso" path="guichetelectronico.resetpassword.sucesso" />
			<forward name="erro" path="guichetelectronico.resetpassword.erro" />
		</action>

	<!-- Registo -->

		<action path="/publico/register" 
				name="registoFormBean" 
				type="com.sinfic.guichetelectronico.publico.action.RegisterAction" 
				parameter="method"
				validate="false"
				scope="session">
			<forward name="register" path="guichetelectronico.registo.inicio" />	
			<forward name="sucesso" path="guichetelectronico.registo.sucesso" />
		</action>

		<action path="/publico/registrationConfirmation"
				type="com.sinfic.guichetelectronico.publico.action.RegistrationConfirmationAction" 
				validate="false"
				scope="request">	
			<forward name="sucesso" path="guichetelectronico.confirmacaoregisto" />
		</action>

	<!-- Edição de Dados -->
	
		<action path="/secure/editdadospessoais" 
				name="dadosPessoaisGuichetFormBean" 
				type="com.sinfic.guichetelectronico.secure.action.EditDadosPessoaisGuichetAction" 
				parameter="method"
				validate="false"
				scope="session">	
			<forward name="sucesso" path="guichetelectronico.editdadospessoais.edit" />
		</action>
		
		<action path="/secure/savedadospessoais" 
				name="dadosPessoaisGuichetFormBean" 
				type="com.sinfic.guichetelectronico.secure.action.SaveDadosPessoaisGuichetAction" 
				scope="session" 
				input="guichetelectronico.editdadospessoais.edit" 
				validate="true">
			<forward name="sucesso" path="guichetelectronico.editdadospessoais.sucesso" />
			<forward name="erro" path="guichetelectronico.editdadospessoais.edit" />
		</action>
	
	<!-- Menus -->
	
		<action path="/secure/detalhemenu"
				type="com.sinfic.guichetelectronico.comum.action.ShowDetalheMenuAction" 
				scope="request">	
			<forward name="sucesso" path="guichetelectronico.menu.detail" />
		</action>
		
		<action path="/publico/detalhemenu"
				type="com.sinfic.guichetelectronico.comum.action.ShowDetalheMenuAction" 
				scope="request">	
			<forward name="sucesso" path="guichetelectronico.menu.detail" />
		</action>
	
		<action path="/secure/detalheinformacao"
				type="com.sinfic.guichetelectronico.comum.action.ShowMenuItemInformacaoAction" 
				scope="request">	
			<forward name="sucesso" path="guichetelectronico.menuinformacao.detail" />
		</action>
		
		<action path="/publico/detalheinformacao"
				type="com.sinfic.guichetelectronico.comum.action.ShowMenuItemInformacaoAction" 
				scope="request">	
			<forward name="sucesso" path="guichetelectronico.menuinformacao.detail" />
		</action>
		
		<action path="/publico/downloadanexomenu"
				type="com.sinfic.guichetelectronico.comum.action.DownloadAnexoGuichetAction">
		</action>
		
		<action path="/secure/downloadanexomenu"
				type="com.sinfic.guichetelectronico.comum.action.DownloadAnexoGuichetAction">
		</action>
		
	<!-- Workflow -->
	
		<action path="/secure/listarprocpendentesguichet" 
				type="com.sinfic.guichetelectronico.secure.action.ListarProcPendentesGuichetAction">	
			<forward name="sucesso" path="guichetelectronico.workflow.listaprocessospendentes" />
		</action>
		
		<action path="/secure/notificationdetail"
				name="notificationGuichetForm"
				scope="session" 
				type="com.sinfic.guichetelectronico.secure.action.DetailNotificationGuichetAction"
				validate="false">	
			<forward name="detail" path="guichetelectronico.workflow.notificationdetail" />
		</action>
	
		<action path="/secure/gravardocsgenericos"
				name="documentosGenericosGuichetForm"
				scope="session"
				type="com.sinfic.guichetelectronico.secure.action.GravarDocumentosGuichetAction"
				parameter="method"
				input="guichetelectronico.workflow.notificationdetail" 
				validate="true">
			<forward name="sucesso" path="/secure/notificationdetail.do2" />
		</action>
	
		<action path="/secure/listarprocfechadosguichet" 
				type="com.sinfic.guichetelectronico.secure.action.ListarProcFechadosGuichetAction">	
			<forward name="sucesso" path="guichetelectronico.workflow.listaprocessosfechados" />
		</action>
		
		<action path="/secure/listprocessesguichet" 
				type="com.sinfic.guichetelectronico.secure.action.ListarProcessosGuichetAction">	
			<forward name="sucesso" path="guichetelectronico.workflow.listaprocessos" />
		</action>
		
		<action path="/secure/downloadanexoprocesso"
				type="com.sinfic.guichetelectronico.comum.action.DownloadAnexoProcessoAction">
		</action>
		
		<action path="/secure/moradaPopupLocaleAware"
			type="com.sinfic.ipdms.comum.action.MoradaLocaleAwareAction">
			<forward name="ao" path="/secure/moradaPopupAO.do2" />
			<forward name="pt" path="/secure/moradaPopupPT.do2" />
			<forward name="br" path="/secure/moradaPopupBR.do2" />
		</action>

		<action path="/secure/moradaPopupBR"
			type="com.sinfic.ipdms.comum.action.MoradaBRAction"
			name="moradaBRFormBean"
			parameter="method" scope="request">
			<forward name="edit" path="ipdms.morada.popup.br" />
			<forward name="save" path="ipdms.morada.saveMessage" />
			<forward name="render-options" path="ipdms.morada.renderOptions" />
			<forward name="render-localidade-options" path="ipdms.morada.renderLocalidadeOptions" />
			<forward name="render-description" path="ipdms.morada.renderDescription" />
		</action>

		<action path="/secure/moradaPopupAO"
			type="com.sinfic.ipdms.comum.action.MoradaAOAction"
			name="moradaAOFormBean"
			parameter="method" scope="request">
			<forward name="edit" path="ipdms.morada.popup.ao" />
			<forward name="save" path="ipdms.morada.saveMessage" />
			<forward name="render-options" path="ipdms.morada.renderOptions" />
			<forward name="render-localidade-options" path="ipdms.morada.renderLocalidadeOptions" />
			<forward name="render-description" path="ipdms.morada.renderDescription" />
		</action>

		<action path="/secure/moradaPopupPT"
			type="com.sinfic.ipdms.comum.action.MoradaPTAction"
			name="moradaPTFormBean"
			parameter="method" scope="request">
			<forward name="edit" path="ipdms.morada.popup.pt" />
			<forward name="save" path="ipdms.morada.saveMessage" />
			<forward name="render-options" path="ipdms.morada.renderOptions" />
			<forward name="render-description" path="ipdms.morada.renderDescription" />
		</action>		
	</action-mappings>

	<!-- ========== Plug Ins Configuration ================================= 
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
	    <set-property property="definitions-config" value="/conf/guichetelectronico/tiles-definition.xml"/>
	    <set-property property="definitions-debug" value="2"/>
	    <set-property property="definitions-parser-details" value="2"/>
	    <set-property property="definitions-parser-validate" value="true"/>
	    <set-property property="moduleAware" value="true"/>
	</plug-in>
	-->
	<plug-in className="com.sinfic.ipdms.integration.struts.plugin.ConvertersPlugin" />
</struts-config>