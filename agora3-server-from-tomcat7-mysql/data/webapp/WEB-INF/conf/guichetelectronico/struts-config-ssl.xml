<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
    "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>

	<form-beans>
		<!--  Form Bean Definitions -->
	</form-beans>
	
	<global-exceptions>
		<!-- Global Exception Definitions -->
		<exception type="java.lang.RuntimeException"
					key="guichetelectronico.error.runtime"
					handler="com.sinfic.ipdms.comum.exception.handler.DefaultExceptionHandler"
					path="guichetelectronico.error.runtime" />
	</global-exceptions>

	<global-forwards type="org.apache.struts.action.ActionForward">
		<!-- Global Forward Definitions -->
		<!-- EXAMPLE 
			<forward name="homepage" path="/homepage.do2" redirect="true" /> 
		-->
	</global-forwards>

	
	<action-mappings type="org.apache.struts.config.SecureActionConfig">
		<!-- Action Mapping Definitions -->
		<action path="/secure/servicos" type="com.sinfic.ipdms.instrucao.action.ServicosAction">
			<forward name="gestaoausencias" path="/secure/applicationFlow.do2?_flowId=gestao_ausencias" />
			<forward name="gestaosugestoes" path="/secure/applicationFlow.do2?_flowId=gestao_sugestoes" />
			<forward name="gestaoreclamacoes" path="/secure/applicationFlow.do2?_flowId=gestao_reclamacoes" />
			<forward name="DYNAMIC" path="/secure/applicationFlow.do2?_flowId=dynamic-flow" />
			<forward name="DYNAMICWITHFILES" path="/secure/applicationFlow.do2?_flowId=dynamic-flow-withfiles"/>

   		    <forward name="DYNAMICESRI" path="/secure/applicationFlow.do2?_flowId=dynamic-flow-esri"/> 
			<forward name="DYNAMICWITHFILESESRI" path="/secure/applicationFlow.do2?_flowId=dynamic-flow-withfiles-esri"/>

<!-- JORGE 2012/11/12 PROCG-->
			<forward name="webflow.processogenerico.simplificado" path="/applicationFlow.do2?_flowId=processogenericosimplificado" />
			<forward name="webflow.processogenerico" path="/applicationFlow.do2?_flowId=processogenerico" />
			<forward name="webflow.processogenericointerno" path="/applicationFlow.do2?_flowId=processogenericointerno" />
			<forward name="gerarresumo.processogenerico.simplificado" path="gerarresumo.processogenericosimplificado.resumo"></forward>
			<forward name="gerarresumo.processogenerico" path="gerarresumo.processogenerico.resumo"></forward>
			<forward name="gerarresumo.processogenericointerno" path="gerarresumo.processogenericointerno.resumo"></forward>
<!-- JORGE 2012/11/12 /PROCG-->

<!--JCP(2013/03/20): formulários dinâmicos com Receita no Guichet-->
			<forward name="webflow.dynamic.guiareceita" path="/applicationFlow.do2?_flowId=dynamic-withfiles-guiareceita" />
			<forward name="DYNAMICWITHRECEITA" path="/applicationFlow.do2?_flowId=dynamic-guiareceita" />
			<forward name="webflow.guiareceita" path="/applicationFlow.do2?_flowId=guiareceita" />
		</action>
		
		<action path="/publico/servicos" type="com.sinfic.ipdms.instrucao.action.ServicosAction">
			<!-- forward name="registoguichet" path="/secure/applicationFlow.do2?_flowId=registoguichet" /-->
			<forward name="gestaosugestoes" path="/applicationFlow.do2?_flowId=gestao_sugestoes" />
			<forward name="testeguichet" path="/applicationFlow.do2?_flowId=teste" />
			<forward name="DYNAMIC" path="/applicationFlow.do2?_flowId=dynamic-flow" />
			<forward name="DYNAMICWITHFILES" path="/applicationFlow.do2?_flowId=dynamic-flow-withfiles"/>
			<forward name="DYNAMICESRI" path="/applicationFlow.do2?_flowId=dynamic-flow-esri"/> 
			<forward name="DYNAMICWITHFILESESRI" path="/applicationFlow.do2?_flowId=dynamic-flow-withfiles-esri"/>

<!--JCP(2013/03/20): formulários dinâmicos com Receita no Guichet-->
			<forward name="webflow.dynamic.guiareceita" path="/applicationFlow.do2?_flowId=dynamic-withfiles-guiareceita" />
			<forward name="webflow.guiareceita" path="/applicationFlow.do2?_flowId=guiareceita" />
		</action>	
			
		<action path="/applicationFlow"
				name="webflowActionForm"
				scope="request"
				type="org.springframework.webflow.executor.struts.FlowAction"/>
				
		<action path="/secure/applicationFlow"
				name="webflowActionForm"
				scope="request"
				type="org.springframework.webflow.executor.struts.FlowAction"/>
		
<!-- PROCG Actions-->
      <action path="/ajaxDadosEntidade" parameter="method"
         type="com.sinfic.gipprocg.registargenerico.action.AjaxRegistarGenericoAction">
         <forward name="singular-pt" path="webflow.processogenerico.singular.pt" />
         <forward name="colectiva-pt" path="webflow.processogenerico.colectiva.pt" />
         <forward name="singular-ao" path="webflow.processogenerico.singular.ao" />
         <forward name="colectiva-ao" path="webflow.processogenerico.colectiva.ao" />
      </action>

      <action path="/ajaxDadosEntidadeInterno" parameter="method"
         type="com.sinfic.gipprocg.registargenericointerno.action.AjaxRegistarGenericoAction">
         <forward name="singular" path="webflow.processogenericointerno.identificacaorequerente" />
         <forward name="colectiva" path="webflow.processogenericointerno.identificacaorequerente" />
      </action>
<!-- /PROCG Action -->						
	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
<!-- 	<controller processorClass="com.sinfic.ipdms.comum.processor.RequestProcessor" nocache="true" -->
<!-- 		locale="false" contentType="text/html; charset=ISO-8859-1" /> -->

<!-- ========== Controller Configuration ================================  -->
	<controller processorClass="org.apache.struts.action.SecureTilesRequestProcessor"  />

	<!-- ========== Message Resources Definitions ============================ -->
	<message-resources parameter="resources.IPDMSResources" null="true" />
	<message-resources parameter="resources.ApplicationResources" null="true" key="app" />
	<message-resources parameter="resources.GuichetResources" null="true" key="guichetbundle" />

	<!-- ========== Plug Ins Configuration ================================= -->
<!-- 	<plug-in className="org.apache.struts.validator.ValidatorPlugIn"> -->
<!-- 		<set-property property="pathnames" -->
<!-- 			value="/WEB-INF/validator-rules.xml,/conf/ipdms/custom-validator-rules.xml,/conf/ipdms/validation.xml,/WEB-INF/conf/validation.xml" /> -->
<!-- 	</plug-in> -->
 	
<!-- 	<plug-in className="org.apache.struts.tiles.TilesPlugin"> -->
<!-- 		<set-property property="definitions-config" -->
<!-- 			value="/conf/guichetelectronico/tiles-definition.xml,/WEB-INF/conf/guichetelectronico/tiles-definition.xml,/conf/receita/extra-tiles-config.xml"/> -->
<!-- 		<set-property property="definitions-debug" value="2" /> -->
<!-- 		<set-property property="definitions-parser-details" value="2" /> -->
<!-- 		<set-property property="definitions-parser-validate" value="true" /> -->
<!-- 		<set-property property="moduleAware" value="true" /> -->
<!-- 	</plug-in> -->

	

	<!-- ========== Message Resources Definitions ============================
	<message-resources parameter="resources.IPDMSResources" null="true" /-->

	<!-- ========== Plug Ins Configuration ================================= -->
	<plug-in className="org.apache.struts.tiles.SecureTilesPlugin">
		<set-property property="definitions-config" value="/conf/guichetelectronico/tiles-definition.xml,/WEB-INF/conf/guichetelectronico/tiles-definition.xml,/conf/receita/extra-tiles-config.xml" />
		<set-property property="definitions-debug" value="2" />
		<set-property property="definitions-parser-details" value="2" />
		<set-property property="definitions-parser-validate" value="true" />
		<set-property property="moduleAware" value="true" />
	</plug-in>
    <plug-in className="org.apache.struts.action.SecurePlugIn">
    	<set-property property="httpPort" value="8080"/>
    	<set-property property="httpsPort" value="8443"/>  	
    	<set-property property="enable" value="true"/>  	
    	<set-property property="addSession" value="true"/>  	
    </plug-in> 	
</struts-config>
