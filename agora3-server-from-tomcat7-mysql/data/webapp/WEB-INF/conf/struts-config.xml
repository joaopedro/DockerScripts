<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
    "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>
<!-- ================================================ Form Bean Definitions
-->

	<form-beans>
		<form-bean name="structureForm" type="com.sinfic.ipdms.example.form.StructureForm" />
		<form-bean name="structuredContentForm" type="com.sinfic.ipdms.example.form.StructuredContentForm" />
		
		<!-- ########## FORMAÇAO ######## -->
		<form-bean name="carrosForm" type="com.sinfic.ipdms.formacao.modulo.CarrosForm" />
		<!-- ########## FORMAÇAO ######## -->
		
	</form-beans>

	<!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
			<exception type="com.sinfic.ipdms.comum.exception.AccessDeniedRuntimeException"
					key="ipdms.error.accessdeniedruntime"
					handler="com.sinfic.ipdms.comum.exception.handler.DefaultExceptionHandler"
					path="ipdms.error.accessdenied" />
		<!-- EXAMPLE
			<exception type="org.springframework.webflow.execution.repository.FlowExecutionRepositoryException"
			handler="pt.sinfic.framework.exceptions.WebflowExceptionHandler"
			key="webflow.erro"
			path="webflow-erro">
			</exception> -->
			
	</global-exceptions>


	<!-- ========== Global Forward Definitions =============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
		<!-- EXAMPLE 
			<forward name="index" path="index.do" redirect="true" />
			<forward name="homepage" path="/homepage.do2" redirect="true" /> -->
	</global-forwards>

	<!-- ========== Action Mapping Definitions =============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">
	
		<!-- 
		exemplo a eliminar
		 -->
		<action path="/accao/modelosample" 
				type="com.sinfic.ipdms.example.modelo.SampleModeloAction" />

		<action path="/servicos" type="com.sinfic.ipdms.instrucao.action.ServicosAction">
			<forward name="TESTE" path="/applicationFlow.do2?_flowId=teste" />
			<forward name="sub" path="/applicationFlow.do2?_flowId=subflow-teste" />
			<forward name="gestaoausencias" path="/applicationFlow.do2?_flowId=gestao_ausencias" />
			<forward name="gestaoreclamacoes" path="/applicationFlow.do2?_flowId=gestao_reclamacoes" />
			<forward name="gestaosugestoes" path="/applicationFlow.do2?_flowId=gestao_sugestoes" />
			<forward name="DYNAMIC" path="/applicationFlow.do2?_flowId=dynamic-flow" />
			<forward name="DYNAMICESRI" path="/applicationFlow.do2?_flowId=dynamic-flow-esri" />
			<forward name="DYNAMICWITHFILES" path="/applicationFlow.do2?_flowId=dynamic-flow-withfiles" />
			<forward name="DYNAMICWITHFILESESRI" path="/applicationFlow.do2?_flowId=dynamic-flow-withfiles-esri" />
			<forward name="QRCODEDOC" path="/applicationFlow.do2?_flowId=dynamic-qrcode-document" />
			<forward name="formacaoteste" path="/applicationFlow.do2?_flowId=formacaoteste" />
			<forward name="pessoa" path="/applicationFlow.do2?_flowId=pessoa" />
			<forward name="TEMPLATE" path="/applicationFlow.do2?_flowId=template-flow" />
		</action>

		<action path="/gerarresumo" type="com.sinfic.ipdms.comum.action.GerarResumoAction">
			<forward name="teste" path="teste.resumo" />
			<forward name="gestaoAusencias" path="ipdms.gestaoAusencias.resumoSimples" />
			<forward name="gestaoReclamacoes" path="ipdms.gestaoReclamacoes.resumoSimples" />
			<forward name="gestaoSugestoes" path="ipdms.gestaoSugestoes.resumoSimples" />
			<forward name="DYNAMIC" path="webflow.dynamic.resumoscreen.external" />
			<forward name="DYNAMICWITHFILES" path="webflow.dynamic.resumoscreenwithfiles.external" />
			<forward name="QRCODEDOC" path="webflow.dynamic.resumoscreenwithfiles.external" />
			<forward name="formacaoteste" path="webflow.formacaoteste.resumo" />
			<forward name="pessoa" path="webflow.pessoa.resumo" />
			<forward name="TEMPLATE" path="template.resumo.external" />
		</action>

		<action path="/ajaxupdatesample" type="com.sinfic.ipdms.example.action.AjaxUpdateAction">
			<forward name="sucess" path="teste.ajaxupdate" />
		</action>

		<action path="/listartextosample" forward="teste.listartextossample" />		
		
		<action path="/grouptabing" forward="teste.groupTabingSample" />
		
		<action path="/sliderTesting" forward="teste.SliderSample" />
		
		<action path="/checkTreeDragnDrop" forward="teste.checkTreeDragdrop" />
		
		<action path="/consultarEquipamentoAction" forward="teste.Equipamento" />
		
		<action path="/ajaxGridColumnGroup" 
				type="com.sinfic.ipdms.comum.action.ListGruposAction">
			<forward name="sucesso" path="teste.gridPanelColumnGroup" />
		</action>
		
		<action path="/ajaxupdatesample" type="com.sinfic.ipdms.example.action.AjaxUpdateAction">
			<forward name="sucess" path="teste.ajaxupdate" />
		</action>

		
		<action path="/liststructure" type="com.sinfic.ipdms.example.action.ListStructureAction">
			<forward name="sucesso" path="teste.liststructure" />
		</action>

		<action path="/editstructure" 
			type="com.sinfic.ipdms.example.action.EditStructureAction" name="structureForm" 
			scope="request">
			<forward name="sucesso" path="teste.editstructure" />
		</action>

		<action path="/savestructure" 
			type="com.sinfic.ipdms.example.action.SaveStructureAction" name="structureForm" 
			scope="request">
			<forward name="sucesso" path="/liststructure.do2" />
			<forward name="editStructure" path="editstructure" />
		</action>

		<action path="/addstructuredcontent" 
			type="com.sinfic.ipdms.example.action.AddStructredContentAction" name="structuredContentForm" 
			scope="request">
			<forward name="sucesso" path="teste.addstructuredcontent" />
		</action>

		<action path="/savestructuredcontent" 
			type="com.sinfic.ipdms.example.action.SaveStructuredContentAction" name="structuredContentForm" 
			scope="request">
			<forward name="sucesso" path="/liststructure.do2" />
		</action>
		
		<action path="/listColaborador2" 
				name="listFormBean" 
				type="com.sinfic.ipdms.administration.action.list.ListColaboradorAction" 
				scope="session">
			<forward name="sucesso" path="ipdms.listcolaborador2" />
		</action>
		
		<action path="/auditColaboradorHistory"
				type="com.sinfic.ipdms.example.action.ColaboradorAuditHistoryAction">
			<forward name="ok" path="/example/auditResultColaborador.jsp" />
		</action>		

		<action path="/getSaidasFromExp"
				type="com.sinfic.ipdms.example.integrationsample.GetSaidasFromExpAction">
			<forward name="ok" path="/example/integrationsample/getSaidasFromExp.jsp" />
		</action>		


		<action path="/integrationNotification" 
		type="com.sinfic.ipdms.example.integration.IntegrationNotificationAction"
			name="notificationForm" input="/integrationNotification.do2?method=prepare&amp;page=0&amp;clear=clear"
			attribute="notificationForm" parameter="method" scope="session" validate="true">
			<forward name="show" path="sample.notification" />
			<forward name="distribuicao" path="/distribuicao.do2?method=prepare" />
			<forward name="worklist" path="/worklist.do2" />
			<forward name="back" path="/homepage.do2" />
		</action>

		<action path="/integrationMedidataNotification" 
		type="com.sinfic.ipdms.example.integration.IntegrationMedidataNotificationAction"
			name="notificationForm" input="/integrationMedidataNotification.do2?method=prepare&amp;page=0&amp;clear=clear"
			attribute="notificationForm" parameter="method" scope="session" validate="true">
			<forward name="show" path="sample.medidata.notification" />
			<forward name="distribuicao" path="/distribuicao.do2?method=prepare" />
			<forward name="worklist" path="/worklist.do2" />
			<forward name="back" path="/homepage.do2" />
		</action>
		
		<action path="/generateQuestionarioRecolhasAction"
				type="com.sinfic.ipdms.questionarios.GenerateQuestionarioRecolhasAction"
				name="voidForm">
			<forward name="ok" path="/homepage.do2" />
		</action>


		<!-- ########## FORMAÇAO ######## -->

		<!-- Tarefas -->
		<action path="/tarefas/showEtapaPrivileges" type="com.sinfic.ipdms.formacao.tarefas.ListEtapaPrivilegesAction">
				<forward name="ok" path="/example/tarefas/showetapaprivileges.jsp" />
		</action>

		<action path="/tarefas/showetapapermissoescols" 
			type="com.sinfic.ipdms.formacao.tarefas.ListEtapaColaboradoresPrivilegesAction">
				<forward name="ok" path="/example/tarefas/showetapapermissoescols.jsp" />
		</action>
				
		<action path="/tarefas/showetapatemposistema" type="com.sinfic.ipdms.formacao.tarefas.ShowTempoSistemaEtapa">
				<forward name="ok" path="/example/tarefas/showtemposistemaetapa.jsp" />
		</action>
		<!-- Tarefas -->

		<!-- Vista Especifica Teste -->
		<action path="/vistaEspecificaTest" 
			type="com.sinfic.ipdms.formacao.vistaespecifica.VistaEspecificaTest" 
			name="notificationForm" attribute="notificationForm" 
			input="/vistaEspecificaTest.do2?method=prepare&amp;page=0"
			parameter="method" scope="session"> 
			
			<set-property property="cancellable" value="true"/> 
			<exception key="error.workflow.closed.notification" 
				type="com.sinfic.ipdms.tramitacao.exception.NotificationClosedException" 
				path="/vistaEspecificaTest.do2?method=prepare" /> 
				
				<forward name="show" path="formacao.vistaespecificateste" /> 
				<forward name="distribuicao" path="/distribuicao.do2?method=prepare" /> 
				<forward name="worklist" path="/worklist.do2" /> 
				<forward name="back" path="/homepage.do2" /> 
		</action>
		<!-- Vista Especifica Teste -->
		
		<!-- Módulo -->
		
		<action path="/listCarros" type="com.sinfic.ipdms.formacao.modulo.ListCarrosAction">			
			<forward name="sucesso" path="ipdms.formacao.modules.gestaocarros.list" />			
		</action>
		
		<action path="/editCarro" type="com.sinfic.ipdms.formacao.modulo.EditCarroAction" name="carrosForm" scope="session">			
			<forward name="sucesso" path="ipdms.formacao.modules.gestaocarros.edit" />			
		</action>
		
		<action path="/saveCarro" type="com.sinfic.ipdms.formacao.modulo.SaveCarroAction" name="carrosForm" scope="session">			
			<forward name="sucesso" path="/listCarros.do2" />			
		</action>
		
		<action path="/deleteCarros" type="com.sinfic.ipdms.formacao.modulo.DeleteCarroAction" name="carrosForm" scope="session">			
			<forward name="sucesso" path="/listCarros.do2" />			
		</action>
				
		<action path="/listagemProcessos" type="com.sinfic.ipdms.formacao.modulo.ListagemProcessosAction">			
			<forward name="sucesso" path="ipdms.formacao.modules.listagemprocessos.list" />			
		</action>
		
		<action path="/deleteProcessos" type="com.sinfic.ipdms.formacao.modulo.DeleteProcessosAction">			
			<forward name="sucesso" path="ipdms.formacao.modules.listagemprocessos.delete" />			
		</action>
								
		<!-- Módulo -->
		
		<!-- ########## FORMAÇAO ######## -->
		
		
		
		<action path="/listTemplateDocument" type="com.sinfic.ipdms.template.action.ListTemplateDocumentAction">			
			<forward name="sucesso" path="webflow.template.listtemplates" />		
		</action>
		
		<!-- Export DynamicForm Instances -->
      	<action path="/exportInstancesToXLS" 
			type="com.sinfic.ipdms.modules.dynamicform.action.ExportDynamicFormInstancesXLSAction" />	
      	
      	<action path="/exportInstancesToXML" 
			type="com.sinfic.ipdms.modules.dynamicform.action.ExportDynamicFormInstancesXMLAction" />	
	
	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
	<controller processorClass="com.sinfic.ipdms.comum.processor.RequestProcessor"
		multipartClass="com.sinfic.ipdms.integration.struts.multipart.MultipartRequestHandler"  nocache="true"
		locale="false" contentType="text/html; charset=ISO-8859-15" />

	<!-- ========== Message Resources Definitions ============================ -->
	<message-resources parameter="resources.IPDMSResources" null="true" />
	<message-resources parameter="resources.ApplicationResources" null="true" key="app" />
	<message-resources parameter="resources.GuichetResources" null="true" key="guichetbundle" />

	<!-- ========== Plug Ins Configuration ================================= -->
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,/conf/ipdms/custom-validator-rules.xml,/conf/ipdms/validation.xml,/WEB-INF/conf/validation.xml" />
	</plug-in>
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/conf/ipdms/tiles-definition.xml,/WEB-INF/conf/tiles-definition.xml,/conf/ipdms/tiles-definition-administration.xml" />
		<set-property property="definitions-debug" value="2" />
		<set-property property="definitions-parser-details" value="2" />
		<set-property property="definitions-parser-validate" value="true" />
		<set-property property="moduleAware" value="true" />
	</plug-in>
</struts-config>
